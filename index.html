<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volumetric Display Simulator - 40x40x20</title>
    <link rel="stylesheet" href="src/css/styles.css">
</head>
<body>
    <div id="container">
        <div id="canvas-container">
            <div id="top-panel">
                <div id="display-info-panel">
                    <div class="display-info-header">
                        <div class="display-info-stats">
                            <span id="grid-resolution">40×20×40</span>
                            <span id="camera-view">(0.0, 0.0)</span>
                            <span id="active-leds">0</span>
                            <span id="fps">0</span>
                        </div>
                        <div class="display-info-actions">
                            <button class="action-btn-inline" id="toggle-rotate">Rot</button>
                            <button class="action-btn-inline" id="toggle-axes">Axes</button>
                            <button class="action-btn-inline" id="reset-view">Reset</button>
                        </div>
                    </div>
                </div>
            </div>
            <canvas id="canvas"></canvas>
            <div id="bottom-panels">
                <div id="debug-panel">
                    <div id="debug-header">
                        <span>Debug Console</span>
                        <button id="debug-toggle">▼</button>
                    </div>
                    <div id="debug-content">
                        <div id="debug-stats">
                            <div>Scene: <span id="debug-scene">-</span></div>
                            <div>Active LEDs: <span id="debug-active-leds">-</span></div>
                            <div>Global FX: <span id="debug-fx">-</span></div>
                            <div>Frame Time: <span id="debug-frame-time">-</span></div>
                        </div>
                        <div id="debug-logs"></div>
                        <button id="debug-clear">Clear</button>
                    </div>
                </div>

                <div id="display-params-panel">
                    <div class="panel-header-collapsible" id="display-params-header">
                        <span>Display Parameters</span>
                        <button class="collapse-toggle">▼</button>
                    </div>
                    <div class="panel-content" id="display-params-content">
                        <div class="params-grid">
                            <div class="param-item">
                                <label>LED Size <span class="value-display" id="led-size-value">1.0</span></label>
                                <input type="range" id="led-size" min="1" max="10" step="0.5" value="1.0">
                            </div>
                            <div class="param-item">
                                <label>Brightness <span class="value-display" id="brightness-value">0.8</span></label>
                                <input type="range" id="brightness" min="0.2" max="1" step="0.05" value="0.8">
                            </div>
                            <div class="param-item">
                                <label>Grid Opacity <span class="value-display" id="grid-opacity-value">0.2</span></label>
                                <input type="range" id="grid-opacity" min="0" max="0.5" step="0.05" value="0.2">
                            </div>
                        </div>
                        <div class="rotation-controls-compact">
                            <label>Rotation Rate</label>
                            <div class="rotation-inputs-inline">
                                <div class="rotation-input-inline">
                                    <label>X</label>
                                    <input type="number" id="rot-x" min="-20" max="20" value="0" class="rot-input">
                                </div>
                                <div class="rotation-input-inline">
                                    <label>Y</label>
                                    <input type="number" id="rot-y" min="-20" max="20" value="10" class="rot-input">
                                </div>
                                <div class="rotation-input-inline">
                                    <label>Z</label>
                                    <input type="number" id="rot-z" min="-20" max="20" value="0" class="rot-input">
                                </div>
                            </div>
                        </div>
                        <div class="rotation-controls-compact">
                            <label>Reset View Point</label>
                            <div class="rotation-inputs-inline">
                                <div class="rotation-input-inline">
                                    <label>X</label>
                                    <input type="number" id="reset-x" min="-10" max="10" step="0.1" value="-3" class="rot-input">
                                </div>
                                <div class="rotation-input-inline">
                                    <label>Y</label>
                                    <input type="number" id="reset-y" min="-10" max="10" step="0.1" value="7" class="rot-input">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="controls">
            <h1>Volumetric Display</h1>

            <div class="section led-colors-section">
                <div class="collapsible-header" id="led-colors-header">
                    <span>Colors</span>
                </div>
                <div class="collapsible-content" id="led-colors-content">
                    <!-- Solid Colors -->
                    <div class="subsection-title">Solid</div>
                    <div class="color-presets-grid">
                        <button class="color-preset-btn active" data-type="single" data-color="#64C8FF" style="background: #64C8FF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FF6464" style="background: #FF6464;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#64FF64" style="background: #64FF64;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FFD700" style="background: #FFD700;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FF64FF" style="background: #FF64FF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#00FFFF" style="background: #00FFFF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FFFFFF" style="background: #FFFFFF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FFA500" style="background: #FFA500;"></button>
                    </div>

                    <!-- Preset Gradients -->
                    <div class="subsection-title">Gradients</div>
                    <div class="color-presets-grid">
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FF0000,#FF00FF,#0000FF" style="background: linear-gradient(135deg, #FF0000 0%, #FF00FF 50%, #0000FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#00FFFF,#00FF00,#FFFF00" style="background: linear-gradient(135deg, #00FFFF 0%, #00FF00 50%, #FFFF00 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FF00FF,#FF0080,#FF00FF" style="background: linear-gradient(135deg, #FF00FF 0%, #FF0080 50%, #FF00FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FFD700,#FFA500,#FF4500" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF4500 100%);"></button>
                    </div>

                    <!-- Custom Colors -->
                    <div class="subsection-title">Custom</div>
                    <div class="custom-color-controls">
                        <div class="custom-color-row">
                            <div class="custom-color-inputs">
                                <input type="color" id="custom-single-color" value="#64C8FF">
                                <button class="apply-btn" id="apply-single-color">Apply</button>
                            </div>
                        </div>
                        <div class="custom-color-row">
                            <div class="custom-color-inputs">
                                <input type="color" id="custom-gradient-start" value="#FF0000">
                                <input type="color" id="custom-gradient-end" value="#0000FF">
                                <button class="apply-btn" id="apply-gradient">Apply</button>
                            </div>
                        </div>
                    </div>

                    <!-- Color Effects -->
                    <div class="subsection-title">Effects</div>
                    <div class="color-effect-buttons">
                        <button class="color-effect-btn active" data-effect="none">
                            <span>Static</span>
                        </button>
                        <button class="color-effect-btn" data-effect="cycle">
                            <span>Cycle</span>
                        </button>
                        <button class="color-effect-btn" data-effect="pulse">
                            <span>Pulse</span>
                        </button>
                        <button class="color-effect-btn" data-effect="wave">
                            <span>Wave</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="section scenes-section">
                <div class="collapsible-header active" id="scenes-header">
                    <span>Scenes</span>
                </div>
                <div class="collapsible-content active" id="scenes-content">
                    <div class="subsection-title">Scene Type</div>
                    <div id="scene-type-container" class="scene-type-buttons">
                        <!-- Scene type buttons will be generated by JavaScript -->
                    </div>

                    <div class="subsection-title">Scene Parameters</div>
                    <div id="scene-params-container">
                        <!-- Scene-specific controls will be dynamically generated -->
                    </div>
                </div>
            </div>

            <div class="section controls-section">
                <div class="collapsible-header active" id="controls-header">
                    <span>Global Controls</span>
                </div>
                <div class="collapsible-content active" id="controls-content">
                    <div class="control-group">
                        <label>
                            Color Speed
                            <span class="value-display" id="color-effect-speed-value">1.0</span>
                        </label>
                        <input type="range" id="color-effect-speed" min="0.1" max="5" step="0.1" value="1.0">
                    </div>

                    <div class="subsection-title">Global Effects</div>

                    <div class="control-group">
                        <label>
                            Decay / Blur
                            <span class="value-display" id="decay-value">0.0</span>
                        </label>
                        <input type="range" id="decay" min="0" max="1" step="0.05" value="0">
                    </div>

                    <div class="control-group">
                        <label>Strobe</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-mode="off" id="strobe-off">Off</button>
                            <button class="toggle-btn" data-mode="slow" id="strobe-slow">Slow</button>
                            <button class="toggle-btn" data-mode="medium" id="strobe-medium">Med</button>
                            <button class="toggle-btn" data-mode="fast" id="strobe-fast">Fast</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Pulse</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-mode="off" id="pulse-off">Off</button>
                            <button class="toggle-btn" data-mode="slow" id="pulse-slow">Slow</button>
                            <button class="toggle-btn" data-mode="medium" id="pulse-medium">Med</button>
                            <button class="toggle-btn" data-mode="fast" id="pulse-fast">Fast</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>
                            <input type="checkbox" id="invert-checkbox">
                            Invert
                        </label>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script type="module" src="src/js/main.js"></script>
</body>
</html>
