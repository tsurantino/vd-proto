<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Volumetric Display Controller</title>

    <!-- PWA iOS Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VD Controller">
    <meta name="theme-color" content="#1a1a2e">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/scenes/interactive/web/manifest.json">

    <!-- iOS Icons -->
    <link rel="apple-touch-icon" href="/scenes/interactive/web/icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/scenes/interactive/web/icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/scenes/interactive/web/icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/scenes/interactive/web/icon-167.png">

    <link rel="stylesheet" href="/scenes/interactive/web/styles.css">
</head>
<body>
    <div class="container">
        <div class="controls-grid">
            <!-- COLUMN 1: Global Controls -->
            <div>
                <div class="panel">
                    <h3>Global Controls</h3>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>ANIM SPD</label>
                            <span id="animationSpeed-value" class="value-display">1.00</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="animationSpeed" min="0.1" max="10" step="0.1" value="1.0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>DECAY</label>
                            <span id="decay-value" class="value-display">0.00</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="decay" min="0" max="3" step="0.1" value="0.0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>CLR SPD</label>
                            <span id="color-speed-value" class="value-display">1.00</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="color-speed" min="0.1" max="10" step="0.1" value="1.0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>CLR INT</label>
                            <span class="value-display" id="color-effect-intensity-value">1.0</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="color-effect-intensity" min="0" max="1" step="0.05" value="1.0">
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="button-group">
                            <button class="effect-btn active" data-param="strobe" data-value="off">Strobe Off</button>
                            <button class="effect-btn" data-param="strobe" data-value="slow">Slow</button>
                            <button class="effect-btn" data-param="strobe" data-value="medium">Med</button>
                            <button class="effect-btn" data-param="strobe" data-value="fast">Fast</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="button-group">
                            <button class="effect-btn active" data-param="pulse" data-value="off">Pulse Off</button>
                            <button class="effect-btn" data-param="pulse" data-value="slow">Slow</button>
                            <button class="effect-btn" data-param="pulse" data-value="medium">Med</button>
                            <button class="effect-btn" data-param="pulse" data-value="fast">Fast</button>
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>MASK WDT</label>
                            <span id="scrolling_thickness-value" class="value-display">0%</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="scrolling_thickness" min="0" max="100" step="1" value="0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>MASK SPD</label>
                            <span id="mask_scrolling_speed-value" class="value-display">1.0</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="mask_scrolling_speed" min="0" max="10" step="0.1" value="1.0">
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Mask Direction</label>
                        <div class="button-group" style="grid-template-columns: repeat(3, 1fr);">
                            <button class="toggle-btn active" data-param="mask_scrolling_direction" data-value="y">Y</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="x">X</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="z">Z</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="diagonal-xz">Diag XZ</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="diagonal-yz">Diag YZ</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="diagonal-xy">Diag XY</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="radial">Radial</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="spiral">Spiral</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="wave">Wave</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="rings">Rings</button>
                            <button class="toggle-btn" data-param="mask_scrolling_direction" data-value="noise">Noise</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="button-group" style="grid-template-columns: 1fr 1fr 1fr;">
                            <button class="toggle-btn" id="scrolling_loop" data-param="scrolling_loop">Loop</button>
                            <button class="toggle-btn" id="scrolling_invert_mask" data-param="scrolling_invert_mask">Invert Mask</button>
                            <button class="toggle-btn" id="invert" data-param="invert">Invert Colors</button>
                        </div>
                    </div>

                    <div id="status" class="status-footer">
                        <div class="status-col">
                            <div class="status-label">STATUS</div>
                            <div id="connection-status" class="status-value disconnected">Disconnected</div>
                        </div>
                        <div class="status-col">
                            <div class="status-label">FPS</div>
                            <div id="fps" class="status-value">0</div>
                        </div>
                        <div class="status-col">
                            <div class="status-label">LEDS</div>
                            <div id="active-leds" class="status-value">0</div>
                        </div>
                        <div class="status-col">
                            <div class="status-label">GRID</div>
                            <div id="grid-size" class="status-value">0×0×0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COLUMN 2: Scenes -->
            <div>
                <div class="panel">
                    <h3>Scene Selection</h3>
                    <div class="button-group">
                        <button class="scene-btn active" data-scene="shapeMorph">Shape Morph</button>
                        <button class="scene-btn" data-scene="waveField">Wave Field</button>
                        <button class="scene-btn" data-scene="procedural">Procedural</button>
                        <button class="scene-btn" data-scene="particleFlow">Particle Flow</button>
                        <button class="scene-btn" data-scene="illusions">Illusions</button>
                        <button class="scene-btn" data-scene="grid">Grid</button>
                        <button class="scene-btn" data-scene="physics">Physics</button>
                    </div>
                    <!-- Shape selector for shapeMorph -->
                    <div class="control-group" id="shape-control">
                        <label>Shape</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="shape" data-value="sphere">Sphere</button>
                            <button class="toggle-btn" data-param="shape" data-value="cube">Cube</button>
                            <button class="toggle-btn" data-param="shape" data-value="torus">Torus</button>
                            <button class="toggle-btn" data-param="shape" data-value="pyramid">Pyramid</button>
                        </div>
                    </div>

                    <!-- Wave type selector for waveField -->
                    <div class="control-group" id="waveType-control" style="display: none;">
                        <label>Wave Type</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="waveType" data-value="ripple">Ripple</button>
                            <button class="toggle-btn" data-param="waveType" data-value="plane">Plane</button>
                            <button class="toggle-btn" data-param="waveType" data-value="standing">Standing</button>
                            <button class="toggle-btn" data-param="waveType" data-value="interference">Interference</button>
                        </div>
                    </div>

                    <!-- Pattern selector for particleFlow -->
                    <div class="control-group" id="pattern-control" style="display: none;">
                        <label>Pattern</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="pattern" data-value="particles">Particles</button>
                            <button class="toggle-btn" data-param="pattern" data-value="spiral">Spiral</button>
                            <button class="toggle-btn" data-param="pattern" data-value="galaxy">Galaxy</button>
                            <button class="toggle-btn" data-param="pattern" data-value="explode">Explode</button>
                        </div>
                    </div>

                    <!-- Illusion type selector for illusions -->
                    <div class="control-group" id="illusionType-control" style="display: none;">
                        <label>Illusion Type</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="illusionType" data-value="infiniteCorridor">Corridor</button>
                            <button class="toggle-btn" data-param="illusionType" data-value="waterfallIllusion">Waterfall</button>
                            <button class="toggle-btn" data-param="illusionType" data-value="pulfrich">Pulfrich</button>
                            <button class="toggle-btn" data-param="illusionType" data-value="moirePattern">Moire</button>
                        </div>
                    </div>

                    <!-- Procedural type selector for procedural -->
                    <div class="control-group" id="proceduralType-control" style="display: none;">
                        <label>Procedural Type</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="proceduralType" data-value="noise">Noise</button>
                            <button class="toggle-btn" data-param="proceduralType" data-value="clouds">Clouds</button>
                            <button class="toggle-btn" data-param="proceduralType" data-value="cellular">Cellular</button>
                            <button class="toggle-btn" data-param="proceduralType" data-value="fractals">Fractals</button>
                        </div>
                    </div>

                    <!-- Grid pattern selector for grid -->
                    <div class="control-group" id="gridPattern-control" style="display: none;">
                        <label>Grid Pattern</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="gridPattern" data-value="full">Full</button>
                            <button class="toggle-btn" data-param="gridPattern" data-value="dots">Dots</button>
                            <button class="toggle-btn" data-param="gridPattern" data-value="cross">Cross</button>
                            <button class="toggle-btn" data-param="gridPattern" data-value="wireframe">Wireframe</button>
                        </div>
                    </div>

                    <!-- Physics type selector for physics -->
                    <div class="control-group" id="physicsType-control" style="display: none;">
                        <label>Physics Type</label>
                        <div class="button-group">
                            <button class="toggle-btn active" data-param="physicsType" data-value="fountain">Fountain</button>
                            <button class="toggle-btn" data-param="physicsType" data-value="bouncing">Bouncing</button>
                            <button class="toggle-btn" data-param="physicsType" data-value="orbital">Orbital</button>
                            <button class="toggle-btn" data-param="physicsType" data-value="rain">Rain</button>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <h3>Global Scene Parameters</h3>

                    <!-- Main parameters (always visible) -->
                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>SIZE</label>
                            <span id="size-value" class="value-display">1.00</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="size" min="0.3" max="3" step="0.1" value="1.0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>DENSITY</label>
                            <span id="density-value" class="value-display">0.50</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="density" min="0" max="1" step="0.05" value="0.5">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>FREQ</label>
                            <span id="frequency-value" class="value-display">1.00</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="frequency" min="0.5" max="5" step="0.1" value="1.0">
                        </div>
                    </div>

                    <div class="control-group slider-control">
                        <div class="slider-label-container">
                            <label>AMP</label>
                            <span id="amplitude-value" class="value-display">0.50</span>
                        </div>
                        <div class="slider-input-container">
                            <input type="range" id="amplitude" min="0" max="1" step="0.05" value="0.5">
                        </div>
                    </div>

                    <!-- Subtab Navigation -->
                    <div class="subtab-nav">
                        <button class="subtab-btn active" data-subtab="scale">SCAL</button>
                        <button class="subtab-btn" data-subtab="rotation">ROT</button>
                        <button class="subtab-btn" data-subtab="translation">TRANS</button>
                        <button class="subtab-btn" data-subtab="scrolling">SCROLL</button>
                        <button class="subtab-btn" data-subtab="copy">COP</button>
                        <button class="subtab-btn" data-subtab="particles">PART</button>
                    </div>

                    <!-- Scale Tab -->
                    <div id="subtab-scale" class="subtab-content active">
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>SCALE AMT</label>
                                <span id="scaling_amount-value" class="value-display">2.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="scaling_amount" min="0" max="3" step="0.1" value="2.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>SCALE SPD</label>
                                <span id="scaling_speed-value" class="value-display">2.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="scaling_speed" min="0.1" max="10" step="0.1" value="2.0">
                            </div>
                        </div>
                    </div>

                    <!-- Rotation Tab -->
                    <div id="subtab-rotation" class="subtab-content">
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ROT X</label>
                                <span id="rotationX-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="rotationX" min="-1" max="1" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ROT Y</label>
                                <span id="rotationY-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="rotationY" min="-1" max="1" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ROT Z</label>
                                <span id="rotationZ-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="rotationZ" min="-1" max="1" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ROT SPEED</label>
                                <span id="rotation_speed-value" class="value-display">0.0</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="rotation_speed" min="0" max="5" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ROT OFFSET</label>
                                <span id="rotation_offset-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="rotation_offset" min="0" max="1" step="0.05" value="0.0">
                            </div>
                        </div>
                    </div>

                    <!-- Translation Tab -->
                    <div id="subtab-translation" class="subtab-content">
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRANS X</label>
                                <span id="copy_translation_x-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_translation_x" min="-1" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRANS Y</label>
                                <span id="copy_translation_y-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_translation_y" min="-1" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRANS Z</label>
                                <span id="copy_translation_z-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_translation_z" min="-1" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRANS SPEED</label>
                                <span id="copy_translation_speed-value" class="value-display">0.0</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_translation_speed" min="0" max="5" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRANS OFFSET</label>
                                <span id="copy_translation_offset-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_translation_offset" min="0" max="1" step="0.05" value="0.0">
                            </div>
                        </div>
                    </div>

                    <!-- Scrolling Tab -->
                    <div id="subtab-scrolling" class="subtab-content">
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>OBJ SPD</label>
                                <span id="object_scroll_speed-value" class="value-display">0.0</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="object_scroll_speed" min="0" max="10" step="0.1" value="0.0">
                            </div>
                        </div>

                        <div class="control-group">
                            <label>Object Direction</label>
                            <div class="button-group" style="grid-template-columns: repeat(3, 1fr);">
                                <button class="toggle-btn active" data-param="object_scroll_direction" data-value="y">Y</button>
                                <button class="toggle-btn" data-param="object_scroll_direction" data-value="x">X</button>
                                <button class="toggle-btn" data-param="object_scroll_direction" data-value="z">Z</button>
                                <button class="toggle-btn" data-param="object_scroll_direction" data-value="diagonal-xz">Diag XZ</button>
                                <button class="toggle-btn" data-param="object_scroll_direction" data-value="diagonal-yz">Diag YZ</button>
                                <button class="toggle-btn" data-param="object_scroll_direction" data-value="diagonal-xy">Diag XY</button>
                            </div>
                        </div>
                    </div>

                    <!-- Copy Tab (Flattened) -->
                    <div id="subtab-copy" class="subtab-content">
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>COPIES</label>
                                <span id="objectCount-value" class="value-display">1</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="objectCount" min="1" max="8" step="1" value="1">
                            </div>
                        </div>

                        <div class="control-group slider-control" id="copy-spacing-control">
                            <div class="slider-label-container">
                                <label>SPACING</label>
                                <span id="copy_spacing-value" class="value-display">1.50</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="copy_spacing" min="0.5" max="3" step="0.1" value="1.5">
                            </div>
                        </div>

                        <div class="control-group" id="copy-arrangement-control">
                            <label>Arrangement</label>
                            <div class="button-group">
                                <button class="toggle-btn active" data-param="copy_arrangement" data-value="linear">Linear</button>
                                <button class="toggle-btn" data-param="copy_arrangement" data-value="circular">Circular</button>
                                <button class="toggle-btn" data-param="copy_arrangement" data-value="grid">Grid</button>
                                <button class="toggle-btn" data-param="copy_arrangement" data-value="spiral">Spiral</button>
                            </div>
                        </div>

                        <!-- Section B: Variation (only visible when COPIES > 1) -->
                        <div id="copy-variation-section" style="display: none;">
                            <div class="subsection-title">Variation</div>

                            <div class="control-group slider-control">
                                <div class="slider-label-container">
                                    <label>SCALE VAR</label>
                                    <span id="copy_scale_offset-value" class="value-display">0.00</span>
                                </div>
                                <div class="slider-input-container">
                                    <input type="range" id="copy_scale_offset" min="0" max="1" step="0.05" value="0.0">
                                </div>
                            </div>

                            <div class="control-group slider-control">
                                <div class="slider-label-container">
                                    <label>ROT VAR</label>
                                    <span id="copy_rotation_var-value" class="value-display">0.00</span>
                                </div>
                                <div class="slider-input-container">
                                    <input type="range" id="copy_rotation_var" min="0" max="1" step="0.05" value="0.0">
                                </div>
                            </div>

                            <div class="control-group slider-control">
                                <div class="slider-label-container">
                                    <label>TRANS VAR</label>
                                    <span id="copy_translation_var-value" class="value-display">0.00</span>
                                </div>
                                <div class="slider-input-container">
                                    <input type="range" id="copy_translation_var" min="0" max="1" step="0.05" value="0.0">
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Particles Tab (Physics scene) -->
                    <div id="subtab-particles" class="subtab-content">
                        <!-- Size Variation -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>SIZE VAR</label>
                                <span id="particle_size_variation-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="particle_size_variation" min="0" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <!-- Restitution (Bounciness) -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>BOUNCE</label>
                                <span id="restitution-value" class="value-display">0.80</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="restitution" min="0" max="1" step="0.05" value="0.8">
                            </div>
                        </div>

                        <!-- Air Resistance -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>AIR DRAG</label>
                                <span id="air_resistance-value" class="value-display">0.05</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="air_resistance" min="0" max="1" step="0.05" value="0.05">
                            </div>
                        </div>

                        <!-- Spread Angle (Fountain only) -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>SPREAD</label>
                                <span id="spread_angle-value" class="value-display">15</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="spread_angle" min="0" max="90" step="5" value="15">
                            </div>
                        </div>

                        <!-- Turbulence (Rain only) -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TURB</label>
                                <span id="turbulence-value" class="value-display">0.30</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="turbulence" min="0" max="1" step="0.05" value="0.3">
                            </div>
                        </div>

                        <!-- Energy Boost (for bouncing) -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>ENERGY</label>
                                <span id="energy_boost-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="energy_boost" min="0" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <!-- Trail Length -->
                        <div class="control-group slider-control">
                            <div class="slider-label-container">
                                <label>TRAIL</label>
                                <span id="trail_length-value" class="value-display">0.00</span>
                            </div>
                            <div class="slider-input-container">
                                <input type="range" id="trail_length" min="0" max="1" step="0.05" value="0.0">
                            </div>
                        </div>

                        <!-- Particle Toggles -->
                        <div class="control-group">
                            <div class="button-group" style="grid-template-columns: 1fr 1fr 1fr;">
                                <button class="toggle-btn" id="motion_blur" data-param="motion_blur">M-Blur</button>
                                <button class="toggle-btn" id="enable_particle_collisions" data-param="enable_particle_collisions">Collide</button>
                                <button class="toggle-btn" id="boundary_bounce_toggle" data-param="boundary_bounce_toggle">Bounce</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COLUMN 3: Colors & Effects -->
            <div>
                <div class="panel colors-panel">
                    <h3>Colors & Effects</h3>

                    <!-- Row 1: Solid Colors -->
                    <div class="color-presets-grid">
                        <button class="color-preset-btn" data-type="single" data-color="#FF0000" style="background: #FF0000;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FF8800" style="background: #FF8800;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FFFF00" style="background: #FFFF00;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#00FF00" style="background: #00FF00;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#00FFFF" style="background: #00FFFF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#0000FF" style="background: #0000FF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FF00FF" style="background: #FF00FF;"></button>
                        <button class="color-preset-btn" data-type="single" data-color="#FFFFFF" style="background: #FFFFFF;"></button>
                    </div>

                    <!-- Row 2: Gradients + Rainbow -->
                    <div class="color-presets-grid">
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FF0000,#FF00FF,#0000FF" style="background: linear-gradient(135deg, #FF0000 0%, #FF00FF 50%, #0000FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#00FFFF,#00FF00,#FFFF00" style="background: linear-gradient(135deg, #00FFFF 0%, #00FF00 50%, #FFFF00 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FF00FF,#FF0080,#FF00FF" style="background: linear-gradient(135deg, #FF00FF 0%, #FF0080 50%, #FF00FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#FF4500,#FF8C00,#FFD700" style="background: linear-gradient(135deg, #FF4500 0%, #FF8C00 50%, #FFD700 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#004B87,#0088CC,#00D9FF" style="background: linear-gradient(135deg, #004B87 0%, #0088CC 50%, #00D9FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#6A0DAD,#9D4EDD,#E0B0FF" style="background: linear-gradient(135deg, #6A0DAD 0%, #9D4EDD 50%, #E0B0FF 100%);"></button>
                        <button class="color-preset-btn" data-type="gradient" data-gradient="#0B6623,#228B22,#90EE90" style="background: linear-gradient(135deg, #0B6623 0%, #228B22 50%, #90EE90 100%);"></button>
                        <!-- Rainbow as last gradient option -->
                        <button class="color-preset-btn active" data-type="rainbow" style="background: linear-gradient(90deg, #FF0000 0%, #FF7F00 16%, #FFFF00 33%, #00FF00 50%, #0000FF 66%, #4B0082 83%, #9400D3 100%);"></button>
                    </div>

                    <!-- Effects -->
                    <div class="subsection-title">Effects</div>

                    <!-- Classic & Combo Effects -->
                    <div class="button-group">
                        <button class="scene-btn active" data-effect="none">None</button>
                        <button class="scene-btn" data-effect="sparkle">Sparkle</button>
                        <button class="scene-btn" data-effect="fire">Fire</button>
                        <button class="scene-btn" data-effect="breath">Breath</button>
                        <button class="scene-btn" data-effect="pulseWave">PulseWave</button>
                        <button class="scene-btn" data-effect="waveChase">WaveChase</button>
                        <button class="scene-btn" data-effect="cyclePulse">CyclePulse</button>
                        <button class="scene-btn" data-effect="kaleidoscope">Kaleid</button>
                    </div>

                    <!-- Wave/Flow Effects -->
                    <div class="effect-category-title">Wave/Flow</div>
                    <div class="button-group">
                        <button class="scene-btn" data-effect="waveCircular">Circular</button>
                        <button class="scene-btn" data-effect="waveVertical">Vertical</button>
                        <button class="scene-btn" data-effect="sineInterferenceXZ">Interference</button>
                        <button class="scene-btn" data-effect="directionalSweep">DirSweep</button>
                    </div>

                    <!-- Geometric Effects -->
                    <div class="effect-category-title">Geometric</div>
                    <div class="button-group">
                        <button class="scene-btn" data-effect="helix">Helix</button>
                        <button class="scene-btn" data-effect="vortex">Vortex</button>
                        <button class="scene-btn" data-effect="tunnel">Tunnel</button>
                        <button class="scene-btn" data-effect="sphericalShellsMoving">Bubbles</button>
                    </div>

                    <!-- Procedural Effects -->
                    <div class="effect-category-title">Procedural</div>
                    <div class="button-group">
                        <button class="scene-btn" data-effect="perlinNoise">Perlin</button>
                        <button class="scene-btn" data-effect="voronoi">Voronoi</button>
                        <button class="scene-btn" data-effect="plasma">Plasma</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Socket.io -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

    <!-- Our modular JavaScript -->
    <script type="module" src="/scenes/interactive/web/js/main.js"></script>
</body>
</html>
